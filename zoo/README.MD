# SeeR Model Zoo Web App
**Note: The Model Zoo is only compatible with Python 2**

The SeeR Model Zoo is a web application to showcase the results of different anomaly detection models running on different datasets. The app is designed to automatically enable "plug and play" of different anomaly detection models on different packet-capture datasets.

To add a model, add the `.pkl` file for the model (generated using `model.save`) to the `models/` directory. Name the model something informative using Python function naming conventions, because the web app will automatically pretty print the name given (e.g. `isolation_forest_contextual.pkl` will be pretty-printed as "Isolation Forest Contextual". The model must reference a valid featurizer (`model.featurizer`). Note that this featurizer is not actually contained within the `.pkl` file, which only contains a reference to the function in other code. Currently, all of our featurizer code can be found in `ml/featurizer.py`. Then the featurizer corresponding to a model must be kept in place even after new models have been built.

To add a dataset, wrap it in the `Test_data` and `Data_point` classes, pickle it using the pickle module and `pickle.dump`, and then add it to the `datasets/` directory, following the same naming convention mentioned above. An example of this can be found in modules used in `simulation/test.py`.

After adding a model/dataset, you will need to update the corresponding `info.json` file within the `models/` or `/datasets` directories to add a small description for your new model or dataset. Otherwise, you will get a "KeyError" upon loading the website.

## Setup

Must be run using Python 2.

 1. Clone: `git clone https://github.com/cs210/Hella.git` (or download .zip file containing repository) and `cd Hella`
 2. Create a virtualenv: `virtualenv .env` (ensure this is a python 2 virtualenv if both python 2 and 3 are installed)
 3. Activate the virtualenv: `source .env/bin/activate` (or `.env/Script/activate` if you're on Windows)
 4. `pip install -r requirements.txt`
 5. Get sample models and datasets: `cd zoo` and `sh get_data.sh`
 6. Run the web app locally: `cd ..` and `python run-zoo.py`
 7. Navigate to your localhost: http://127.0.0.0:8000

## Sample Models and Datasets
By default, the SeeR Model Zoo comes pre-packaged with some ready-made packet captures and models which you can play around with -- we host these on Google Drive and they can be downloaded with the `get_data.sh` script.  If you followed the instructions in the previous section, you will already have these models and packet captures in your `models/` and `datasets/` directories.

Our sample datasets were generated by obtaining a packet capture of API requests made by a simulated vehicle trajectory. Simulated attacks were added to each of these datasets. 
